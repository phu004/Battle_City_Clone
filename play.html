<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Canvas + TF.js Model Loader</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: sans-serif;
      padding: 20px;
    }

    canvas {
      border: 1px solid #ccc;
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <h1>Draw Local Image & Load TF.js Model</h1>
  <canvas id="myCanvas" width="500" height="400"></canvas>

  <script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');

    // --- Load image ---
    const img = new Image();
    img.src = 'myimage.png'; // Image file located in the same folder

    img.onload = function () {
      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

      const pixel = ctx.getImageData(10, 10, 1, 1).data;

      const r = pixel[0];
      const g = pixel[1];
      const b = pixel[2];
      const a = pixel[3];

      console.log(`RGBA(${r}, ${g}, ${b}, ${a})`);
    };

    img.onerror = function () {
      console.error('Failed to load the image. Make sure myimage.png exists.');
    };

    // --- Load TF.js model ---
    async function loadModel() {
      try {
        // Model folder must contain model.json and shard(s)
        const model = await tf.loadLayersModel('./model.json');
        console.log('Model loaded successfully:', model)

      } catch (err) {
        console.error('Failed to load TF.js model:', err);
      }
    }

    loadModel();
  </script>
</body>

</html>